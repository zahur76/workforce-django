{% extends "base.html" %}
{% load static %}

{% block extra_css %}  
    <link rel="stylesheet" href="{% static 'staff/css/staff.css' %}">          
{% endblock %}


{% block content %}
    <div class="col-12 text-left p-2 h1 text-uppercase">{{ staff.first_name }} {{ staff.last_name }}</div>
    <div class="mt-1 col-12 p-2 border-bottom border-dark">
        <a href="#" class="btn open-modal button delete text-dark p-1 mb-2" id="open-modal-{{ staff.id }}">+ Delete</a>
        <a href="{% url 'update_staff' staff_id=staff.id %}" class="btn button update text-dark p-1 mb-2">+ Update</a>
        <a href="{% url 'staff' %}" class="btn bg-dark text-light button update p-1 mb-2">Back</a><br>
        <a href="{% url 'sick_leave' staff_id=staff.id %}" class="btn button p-1">+ Sick Leave</a>
        <a href="{% url 'sick_leave_taken' staff_id=staff.id %}" class="btn p-1"><i class="fas fa-eye h4"></i></a>
        <a href="{% url 'annual_leave' staff_id=staff.id %}" class="btn button p-1">+ Annual Leave</a>
        <a href="{% url 'annual_leave_taken' staff_id=staff.id %}" class="btn p-1 mt-2"><i class="fas fa-eye h4"></i></a><br>   
        <a href="#" class="btn button p-1 mt-2">+ Salary</a>
        <a href="#" class="btn p-1 mt-2"><i class="fas fa-eye h4"></i></a>
    </div>
    <div class="row m-0 mt-2">
        {% if staff.image %}
            <div class="col-12 col-sm-4 col-md-3 col-lg-2">
                <img src="{{ staff.image.url }}" alt="{{ staff.name }}">
            </div>
        {% else %}
            <div class="col-12 col-sm-4 col-md-3 col-lg-2">
                <img src="{{ MEDIA_URL }}noimage.png" alt="{{ staff.name }}">
            </div>
        {% endif %}
        <div class="col-12 col-sm-8 col-md-9 col-lg-10 mt-1">
             <div class="row m-0">
                <div class="col-12 pl-1 pb-1 bg-secondary"><b>EMPLOYEE No: </b>{{ staff.id }}</div>                
                <div class="col-12 pl-1 pb-1"><b>FIRST NAME: </b>{{ staff.first_name }}</div>
                <div class="col-12 pl-1 pb-1 bg-secondary"><b class="">SURNAME NAME: </b>{{ staff.last_name }}</div>
                <div class="col-12 pl-1 pb-1"><b>BIRTH DATE: </b>{{ staff.birth_date }}</div>
                <div class="col-12 pl-1 pb-1 bg-secondary"><b class="">PHONE NO: </b>{{ staff.phone_number }}</div>
                <div class="col-12 pl-1 pb-1"><b>ADDRESS: </b>{{ staff.address }}</div>
                <div class="col-12 pl-1pb-1 bg-secondary"><b class="">GENDER: </b>{{ staff.gender}}</div>
                <div class="col-12 pl-1 pb-1"><b>EMAIL ADDRESS: </b>{{ staff.email_address }}</div>
                <div class="col-12 pl-1 pb-1 bg-secondary"><b>Tax Number: </b>{{ staff.tax_number }}</div>
             </div>
        </div>
    </div>
    <div class="row m-0 p-2 mt-2 mb-4 border-top border-dark">
        <div class="col-12 col-md-4 p-0">
            <div class="row m-0">
                <div class="col-12 pb-1 mt-2 bg-secondary"><b>MANAGEMENT LEVEL: </b>{{ staff.management_level }}</div>
                <div class="col-12 pb-1"><b>POSITION: </b>{{ staff.position_held}}</div>
                <div class="col-12 pb-1 bg-secondary"><b class="">ENTRY DATE: </b>{{ staff.entry_date }}</div>
                <div class="col-12 pb-1"><b>TERMINATION DATE: </b>{{ staff.termination_date }}</div> 
            </div>
        </div>
        <div class="col-12 col-md-4 p-0">
            <div class="row m-0">
                <div class="col-12 pb-1 mt-2 bg-secondary"><b>BASIC SALARY: </b>{{ staff.basic_salary}}</div>
                <div class="col-12 pb-1"><b>TRANSPORT ALLOWANCE: </b>{{ staff.transport_allowance}}</div>
                <div class="d-none d-md-block pb-1 text-custom bg-secondary"><b>TRANSPORT ALLOWANCE: </b>{{ staff.transport_allowance}}</div>
            </div>
        </div>
        <div class="col-12 col-md-4 p-0">            
            <div class="row m-0">
                <div class="col-12 pb-1 mt-2 bg-secondary"><b>ANNUAL LEAVE: </b>{{ staff.annual_leave}}</div>
                <div class="col-12 pb-1"><b>REMAINING LEAVE: </b>{{ staff.annual_leave_remaining}}</div>
                <div class="col-12 pb-1 bg-secondary"><b>SICK LEAVE: </b>{{ staff.sick_leave}}</div>
                <div class="col-12 pb-1"><b>REMAINING SICK LEAVE: </b>{{ staff.sick_leave_remaining}}</div>
            </div>
        </div>      
    </div>
    <!-- Confirm staff deletion modal -->
    <div id="delete-modal-{{ staff.id }}" class="modal confirm-modal mx-auto">
        <div class="modal-content mt-2 bg-danger pb-2 pt-1">
            <div class="row m-0">  
                <div class="col-12 close-modal"><div class="btn p-0 text-light">X</div></div>
            </div> 
            <div class="row m-0">                                 
                <div class="col-12 bg-danger text-center text-light delete">Do you want to delete {{ staff.first_name }}?</div>                       
            </div>              
            <div class="row w-25 mx-auto text-center mt-3">
                <a href="{% url 'delete_staff' staff_id=staff.id %}" class="col-12 confirm btn button border border-light text-light">Confirm</a>            
            </div>
        </div>    
    </div>     
{% endblock %}

{% block extra_js %}              
    <script src="{% static 'staff/js/staff.js' %}" type="text/javascript"></script>
{% endblock %}